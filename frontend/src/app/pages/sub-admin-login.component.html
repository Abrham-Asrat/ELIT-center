<!-- Sub Admin Login Page -->
<div class="login-page sub-admin-login" [@pageEnter]>
  <!-- Background Pattern -->
  <div class="login-background"></div>

  <!-- Login Container -->
  <div
    class="container-fluid d-flex align-items-center justify-content-center"
    style="min-height: 100vh"
  >
    <div class="row w-100 justify-content-center">
      <div class="col-lg-3 col-md-4 col-sm-6">
        <!-- Login Card -->
        <div
          class="login-card compact-login"
          [@bounceIn]
          [@shake]="showErrorAnimation ? 'active' : 'inactive'"
        >
          <!-- Header -->
          <div class="login-header text-center mb-3" [@fadeIn]>
            <div
              class="login-icon sub-admin-icon mb-2"
              [@slideUp]
              [@float]="'floating'"
            >
              <i class="fas fa-user-cog"></i>
            </div>
            <h2 class="login-title" [@slideUp]>Sub Admin</h2>
            <p class="login-subtitle" [@fadeIn]>Staff Access</p>
          </div>

          <!-- Login Form -->
          <form
            (ngSubmit)="onLogin()"
            #loginForm="ngForm"
            class="login-form"
            [@fadeIn]
          >
            <!-- Staff ID Field -->
            <div class="form-group mb-2" [@fadeIn]>
              <label class="form-label">
                <i class="fas fa-id-badge me-1"></i>Staff ID
              </label>
              <input
                type="text"
                class="form-control form-control-sm"
                [(ngModel)]="loginData.staffId"
                name="staffId"
                placeholder="Staff ID"
                required
                autocomplete="username"
                [class.is-invalid]="hasError"
                [@scaleIn]
              />
            </div>

            <!-- Password Field -->
            <div class="form-group mb-2" [@fadeIn]>
              <label class="form-label">
                <i class="fas fa-lock me-1"></i>Password
              </label>
              <div class="password-input-group">
                <input
                  [type]="showPassword ? 'text' : 'password'"
                  class="form-control form-control-sm"
                  [(ngModel)]="loginData.password"
                  name="password"
                  placeholder="Password"
                  required
                  autocomplete="current-password"
                  [class.is-invalid]="hasError"
                  [@scaleIn]
                />
                <button
                  type="button"
                  class="password-toggle"
                  (click)="togglePassword()"
                  [@scaleIn]
                >
                  <i
                    [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"
                  ></i>
                </button>
              </div>
            </div>

  

            <!-- Work Type Selection -->
            <div class="form-group mb-2" [@fadeIn]>
              <label class="form-label">
                <i class="fas fa-briefcase me-1"></i>Work Type
              </label>
              <select
                class="form-control form-control-sm"
                [(ngModel)]="loginData.workType"
                name="workType"
                required
                [@scaleIn]
              >
                <option value="">Select work type</option>
                <option *ngFor="let type of workTypes" [value]="type.value">
                  {{ type.label }}
                </option>
              </select>
            </div>

            <!-- Remember Me -->
            <div class="form-group mb-3" [@fadeIn]>
              <div class="form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  [(ngModel)]="rememberMe"
                  name="rememberMe"
                  id="rememberMe"
                  [@scaleIn]
                />
                <label class="form-check-label" for="rememberMe" [@fadeIn]>
                  Remember me
                </label>
              </div>
            </div>

            <!-- Error Message -->
            <div
              *ngIf="errorMessage"
              class="alert alert-danger alert-sm mb-2"
              role="alert"
              [@fadeIn]
              [@shake]="showErrorAnimation ? 'active' : 'inactive'"
            >
              <i class="fas fa-exclamation-triangle me-1"></i>
              {{ errorMessage }}
            </div>

            <!-- Login Button -->
            <button
              type="submit"
              class="btn btn-primary w-100 login-btn btn-sm"
              [disabled]="isLoading || !loginForm.valid"
              [@fadeIn]
              [@buttonHover]="buttonState"
              (mouseenter)="onButtonHover('hovered')"
              (mouseleave)="onButtonHover('normal')"
            >
              <span *ngIf="!isLoading">
                <i class="fas fa-sign-in-alt me-1"></i>
                Login
              </span>
              <span *ngIf="isLoading">
                <i class="fas fa-spinner fa-spin me-1"></i>
                Authenticating...
              </span>
            </button>
          </form>

          <!-- Security Notice -->
          <!-- <div class="security-notice mt-3" [@fadeIn]>
            <div class="text-center">
              <small class="text-muted">
                <i class="fas fa-shield-alt me-1"></i>
                Secure area. All attempts logged.
              </small>
            </div>
          </div> -->

          <!-- Back to Selection -->
          <div class="text-center mt-2" [@fadeIn]>
            <a routerLink="/admin" class="back-link small" [@scaleIn]>
              <i class="fas fa-arrow-left me-1"></i>
              Back
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ELIT ENT Center Branding -->
  <div class="branding pb-4" [@fadeIn]>
    <div class="container">
      <div class="text-center">
        <small class="text-muted">
          <i class="fas fa-hospital me-1"></i>
          ELIT ENT Center
        </small>
      </div>
    </div>
  </div>
</div>
